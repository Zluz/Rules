{
	"debug": true,
	"labels": [ "tempest", "test-label", "required-label-test" ],
	"conditions": {
		"check-tempest-event": " '${body.serial_number}' === '${tempest-device-serial}' ",
        "check-event-type": " '${body.type}' === 'device_status' "
	},
	"actions": {
		"action-set-var weather": { 
			"type": "set", 
			"name": "Weather",
			"path": "$.tempest.status",
			"value": "${body.voltage}",
			"add": {
				"voltage": "${body.voltage}",
				"uptime": "${body.uptime}",
				"sensor_status": "${body.sensor_status}",
				"firmware_revision": "${body.firmware_revision}",
				"device_rssi": "${body.rssi}",
				"hub_rssi": "${body.hub_rssi}",
				"debug": "${body.debug}"
			}
		},
		"post to influx": {
			"type": "post-influx",
			"bucket": "environmental",
			"measurement": "tempest_status",
			"tags": {
				"device": "tempest-01"
			},
			"fields": {
				"voltage": "${body.voltage}"
			}
		}
	}
}
